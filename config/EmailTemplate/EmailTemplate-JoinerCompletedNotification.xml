<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE EmailTemplate PUBLIC "sailpoint.dtd" "sailpoint.dtd">
<EmailTemplate created="1680671893506" id="c0a81db3874f10c281874fd9e8020073" name="Joiner Completed Notification">
  <Body>
   		 
		#set($ctx = $spTools.class.forName("sailpoint.api.SailPointFactory").getMethod("getFactory", null).invoke(null,null).getCurrentContext())
		#set($emailTools = $spTools.class.forName("sailpoint.rapidsetup.tools.EmailTools").getMethod("instance", null).invoke(null,null))
		#set($reqType = $workflow.requestType)
		#set($styleSheet = $emailTools.getEmailSection($ctx, "styleSheet"))
		#set($headerTemplate = $emailTools.getEmailSection($ctx, "headerTemplate"))
		#set($footerTemplate = $emailTools.getEmailSection($ctx, "footerTemplate"))
                &lt;html>
                &lt;head>
                &lt;meta charset="UTF-8">
                #if( $styleSheet )
                $styleSheet
                #end
                &lt;/head>
                &lt;body>
                #if( $headerTemplate )
                        $headerTemplate
                        #end
                        &lt;br/>
                        Dear $recipientDisplayName,&lt;br/>
                        &lt;p>Joiner Access for Identity '$refIdentityDisplayName' has been granted.&lt;/p>
                        #if ( $approvalSet &amp;&amp; !$disableStaticManagerContent)
                              &lt;ul>
                              #foreach ($item in $approvalSet.items)
                                #if ( $item.comments)
                                  #foreach ($comment in $item.comments)
                                    &lt;li>Completion Comments: $comment&lt;/li>
                                  #end
                                #end
                                &lt;li>Application: $item.applicationName&lt;/li>
                                &lt;ul>
                                #if ( $item.nativeIdentity )
                                  &lt;li>Account : $item.nativeIdentity&lt;/li>
                                #end
                                &lt;li>Operation: $item.operation&lt;/li>
                                #if ( $item.displayName )
                                  &lt;li>Attribute: $item.displayName&lt;/li>
                                #elseif ( $item.name )
                                  &lt;li>Attribute: $item.name&lt;/li>
                                #end
                                #if ( $item.displayValue )
                                 &lt;li>Value(s): $item.displayValue&lt;/li>
                                #elseif ( $item.csv )
                                 &lt;li>Value(s): $item.csv&lt;/li>
                                #end
                                #if ( $item.requesterComments )
                                  &lt;li>Requester Comments: $item.requesterComments&lt;/li>
                                #end
                                &lt;/ul>
                              #end
                                    &lt;/ul>
                        #end
                        #if ($dynamicAppContent)
                                &lt;table>
                                        #if (!$disableStaticManagerContent)
                                                #foreach( $key in $dynamicAppContent.keySet() )
                                                &lt;tr>&lt;td>$key&lt;/td>&lt;td>$dynamicAppContent.get($key)&lt;/td>&lt;/tr>
                                                #end
                                        #else
                                                #foreach( $key in $dynamicAppContent.keySet() )
                                                &lt;tr>&lt;td>$dynamicAppContent.get($key)&lt;/td>&lt;/tr>
                                                #end
                                        #end
                                &lt;/table>
                        #end
                        #if ( $provisioningErrors )
                                The following errors occurred during provisioning:
                                &lt;ul>
                                #foreach ($error in $provisioningErrors)
                                &lt;li>$!error&lt;/li>
                                #end
                                &lt;/ul>
                        #end
                        #if( $footerTemplate )
                        $footerTemplate
                        #end
                        &lt;/body>
                &lt;/html>
		
    </Body>
  <Description>
    Email Template for notifying the manager when account creation is completed
    </Description>
  <Signature>
    <Inputs>
      <Argument name="workflow" type="Workflow">
        <Description>The Workflow object being executed.</Description>
      </Argument>
      <Argument name="approvalSet" type="ApprovalSet">
        <Description>The ApprovalSet object contained in the workflow.</Description>
      </Argument>
      <Argument name="refIdentityDisplayName" type="string">
        <Description>The name of the Identity that is registering.</Description>
      </Argument>
      <Argument name="recipientDisplayName" type="string">
        <Description>The display name of the Identity that is registering.</Description>
      </Argument>
      <Argument name="provisioningErrors" type="List">
        <Description>Any provisioning errors that may have occurred.</Description>
      </Argument>
      <Argument name="disableStaticManagerContent" type="boolean">
        <Description>if false, then do not hide static content</Description>
      </Argument>
    </Inputs>
  </Signature>
  <Subject>#if($provisioningErrors) Error:#end User '$refIdentityDisplayName' has been onboarded </Subject>
</EmailTemplate>
